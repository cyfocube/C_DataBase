{
  "id": "q_1729820000_abc004",
  "title": "React DApp keeps showing 'Please connect wallet' even after connecting",
  "content": "I'm building a React DApp using ethers.js and keep running into this issue where my wallet connection state isn't persisting properly.\n\n**Tech Stack:**\n- React 18\n- ethers.js v6\n- MetaMask\n\n**The Problem:**\nUser connects wallet → everything works → user refreshes page → shows 'Please connect wallet' again\n\n**Current Code:**\n```javascript\nconst [account, setAccount] = useState(null);\nconst [provider, setProvider] = useState(null);\n\nuseEffect(() => {\n  if (window.ethereum) {\n    const provider = new ethers.BrowserProvider(window.ethereum);\n    setProvider(provider);\n  }\n}, []);\n\nconst connectWallet = async () => {\n  if (provider) {\n    const accounts = await provider.send('eth_requestAccounts', []);\n    setAccount(accounts[0]);\n  }\n};\n```\n\n**Questions:**\n1. How do I persist wallet connection across page refreshes?\n2. Should I store the connection state in localStorage?\n3. How do I handle the case where user disconnects from MetaMask directly?\n4. Best practices for wallet connection UX?",
  "tags": ["react", "web3", "ethers", "metamask", "dapp-development"],
  "author_wallet": "0x2222333344445555666677778888999900001111",
  "author_name": "ReactDev",
  "created_at": "2025-10-24T05:15:00Z",
  "updated_at": "2025-10-24T05:15:00Z",
  "last_activity": "2025-10-24T13:45:00Z",
  "views": 145,
  "votes": 9,
  "answer_count": 3,
  "accepted_answers": [],
  "status": "open",
  "is_trending": false,
  "difficulty_level": "intermediate",
  "bounty": 5
}