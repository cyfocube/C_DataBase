{
  "id": "a_1729824100_nft001",
  "question_id": "q_1729823800_nft001",
  "content": "Your metadata looks correct, but there are several OpenSea-specific issues causing the failures. Here's a comprehensive fix:\n\n## üîç **The Real Issues:**\n\n### **1. IPFS Gateway Problems** \nPinata's default gateway (`gateway.pinata.cloud`) has been unreliable lately. OpenSea prefers certain gateways:\n\n```json\n// Instead of:\n\"image\": \"ipfs://QmX1Y2Z3.../1234.png\"\n\n// Use OpenSea's preferred format:\n\"image\": \"https://ipfs.io/ipfs/QmX1Y2Z3.../1234.png\"\n// OR\n\"image\": \"https://cloudflare-ipfs.com/ipfs/QmX1Y2Z3.../1234.png\"\n```\n\n### **2. Animation URL Format Issues**\nOpenSea is picky about video formats and URLs:\n\n```json\n{\n  \"animation_url\": \"https://ipfs.io/ipfs/QmA1B2C3.../1234.mp4\",\n  \"youtube_url\": \"\", // Leave empty if no YouTube\n  \"background_color\": \"000000\", // Helps with display\n  \"image\": \"https://ipfs.io/ipfs/QmX1Y2Z3.../1234.png\" // Still needed as fallback\n}\n```\n\n### **3. Attribute Value Type Issues** \nYour numeric trait is causing problems:\n\n```json\n// Problematic:\n{\n  \"trait_type\": \"Rarity Score\", \n  \"value\": 87.5,\n  \"display_type\": \"number\"\n}\n\n// Fixed:\n{\n  \"trait_type\": \"Rarity Score\", \n  \"value\": \"87.5\",  // String, not number\n  \"display_type\": \"number\"\n}\n```\n\n## üõ†Ô∏è **Complete Fixed Metadata:**\n\n```json\n{\n  \"name\": \"CyberPunk #1234\",\n  \"description\": \"Unique cyberpunk character with rare traits\",\n  \"image\": \"https://ipfs.io/ipfs/QmX1Y2Z3.../1234.png\",\n  \"animation_url\": \"https://ipfs.io/ipfs/QmA1B2C3.../1234.mp4\",\n  \"external_url\": \"https://mycollection.com/nft/1234\",\n  \"background_color\": \"000000\",\n  \"attributes\": [\n    {\n      \"trait_type\": \"Background\",\n      \"value\": \"Neon City\"\n    },\n    {\n      \"trait_type\": \"Rarity Score\", \n      \"value\": \"87.5\",\n      \"display_type\": \"number\"\n    },\n    {\n      \"trait_type\": \"Generation\",\n      \"value\": \"Gen 1\"\n    }\n  ]\n}\n```\n\n## üîß **OpenSea Refresh Issues:**\n\n### **Force Metadata Refresh**\n```javascript\n// Use OpenSea API to force refresh\nconst refreshMetadata = async (contractAddress, tokenId) => {\n  const response = await fetch(\n    `https://api.opensea.io/v1/asset/${contractAddress}/${tokenId}/?force_update=true`,\n    {\n      method: 'GET',\n      headers: {\n        'X-API-KEY': 'your-api-key' // Get from OpenSea dashboard\n      }\n    }\n  );\n  return response.json();\n};\n```\n\n### **Bulk Refresh Script**\n```python\nimport requests\nimport time\n\ndef refresh_collection(contract_address, start_token, end_token):\n    headers = {'X-API-KEY': 'your-opensea-api-key'}\n    \n    for token_id in range(start_token, end_token + 1):\n        url = f\"https://api.opensea.io/v1/asset/{contract_address}/{token_id}/?force_update=true\"\n        \n        try:\n            response = requests.get(url, headers=headers)\n            print(f\"Token {token_id}: {response.status_code}\")\n        except Exception as e:\n            print(f\"Error refreshing token {token_id}: {e}\")\n        \n        time.sleep(0.5)  # Rate limiting\n\n# Usage\nrefresh_collection(\"0xYourContractAddress\", 1, 10000)\n```\n\n## üé• **Video/Animation Issues:**\n\n### **Supported Formats**\n- **MP4**: ‚úÖ Best compatibility\n- **WebM**: ‚úÖ Good compression\n- **GIF**: ‚úÖ Always works\n- **MOV**: ‚ùå Not supported\n\n### **Video Requirements**\n```\nMax size: 100MB (but 10MB recommended)\nMax duration: 60 seconds\nResolution: 1080x1080 max\nCodec: H.264 for MP4\nFrame rate: 30fps max\n```\n\n## ‚ö° **Quick Fixes for Your Launch:**\n\n### **1. Update Metadata URLs (2 hours)**\n```bash\n# Batch update script\nfor i in {1..10000}; do\n  sed -i '' 's/ipfs:\\/\\//https:\\/\\/ipfs.io\\/ipfs\\//g' \"metadata/${i}.json\"\ndone\n```\n\n### **2. Re-pin with Better Gateway (1 hour)**\n```javascript\n// Use multiple IPFS gateways for redundancy\nconst gateways = [\n  'https://ipfs.io/ipfs/',\n  'https://cloudflare-ipfs.com/ipfs/',\n  'https://dweb.link/ipfs/'\n];\n\n// Test each gateway before launch\nconst testGateway = async (ipfsHash) => {\n  for (const gateway of gateways) {\n    try {\n      const response = await fetch(`${gateway}${ipfsHash}`);\n      if (response.ok) return gateway;\n    } catch (e) {}\n  }\n  throw new Error('No working gateway');\n};\n```\n\n### **3. Fix Numeric Attributes (30 minutes)**\n```python\nimport json\nimport os\n\ndef fix_numeric_attributes(metadata_folder):\n    for filename in os.listdir(metadata_folder):\n        if filename.endswith('.json'):\n            with open(f\"{metadata_folder}/{filename}\", 'r') as f:\n                data = json.load(f)\n            \n            # Fix numeric values\n            for attr in data.get('attributes', []):\n                if isinstance(attr['value'], (int, float)):\n                    attr['value'] = str(attr['value'])\n            \n            with open(f\"{metadata_folder}/{filename}\", 'w') as f:\n                json.dump(data, f, indent=2)\n\nfix_numeric_attributes('./metadata')\n```\n\n## üöÄ **Launch Day Checklist:**\n\n### **Pre-Launch (24 hours before):**\n- [ ] Test 10 random NFTs on OpenSea Testnet\n- [ ] Verify all IPFS links work from multiple locations\n- [ ] Check video playback on mobile devices\n- [ ] Confirm rarity rankings display correctly\n\n### **Launch Day:**\n- [ ] Deploy contract\n- [ ] Mint first 100 NFTs\n- [ ] Force refresh metadata via API\n- [ ] Check first few listings on OpenSea\n- [ ] Monitor for any \"Failed to load\" errors\n\n### **Post-Launch (within 6 hours):**\n- [ ] Bulk refresh all metadata\n- [ ] Verify rarity rankings are accurate\n- [ ] Check community feedback for display issues\n\n## ‚ö†Ô∏è **Common Gotchas:**\n\n1. **CORS Issues**: Use `https://` URLs, not `ipfs://`\n2. **Case Sensitivity**: Trait names are case-sensitive for rarity\n3. **Special Characters**: Avoid unicode in trait values\n4. **Large Numbers**: Always use strings for big numbers\n5. **Empty Traits**: Remove attributes with empty values\n\n**Time estimate for fixes:** 3-4 hours total. You can definitely fix this before next week's launch!\n\n**Pro tip:** Test everything on OpenSea Testnet first. It behaves identically to mainnet but lets you catch issues early.",
  "author_wallet": "0xdef4567890123456789012345678901234567890",
  "author_name": "NFTLaunchExpert",
  "created_at": "2025-10-24T13:00:00Z",
  "updated_at": "2025-10-24T13:00:00Z",
  "votes": 38,
  "is_accepted": true,
  "parent_answer_id": null,
  "reply_count": 2,
  "depth": 0,
  "code_snippets": [
    {
      "language": "json",
      "code": "{\n  \"image\": \"https://ipfs.io/ipfs/QmX1Y2Z3.../1234.png\",\n  \"animation_url\": \"https://ipfs.io/ipfs/QmA1B2C3.../1234.mp4\",\n  \"background_color\": \"000000\"\n}"
    }
  ],
  "helpful_votes": 34,
  "spam_reports": 0
}