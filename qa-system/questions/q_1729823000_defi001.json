{
  "id": "q_1729823000_defi001",
  "title": "Why do Uniswap V4 hooks keep failing in my AMM implementation?",
  "content": "I'm trying to implement custom hooks for my Uniswap V4 fork, but I keep getting revert errors. Here's my hook contract:\n\n```solidity\ncontract MyCustomHook is BaseHook {\n    using PoolIdLibrary for PoolKey;\n    \n    constructor(IPoolManager _poolManager) BaseHook(_poolManager) {}\n    \n    function getHookPermissions() public pure override returns (Hooks.Permissions memory) {\n        return Hooks.Permissions({\n            beforeInitialize: true,\n            afterInitialize: false,\n            beforeModifyPosition: true,\n            afterModifyPosition: true,\n            beforeSwap: true,\n            afterSwap: false,\n            beforeDonate: false,\n            afterDonate: false\n        });\n    }\n    \n    function beforeSwap(address, PoolKey calldata key, IPoolManager.SwapParams calldata params, bytes calldata) \n        external override returns (bytes4) {\n        // Custom fee logic here\n        return BaseHook.beforeSwap.selector;\n    }\n}\n```\n\nThe error I'm getting is `PoolManager__UnauthorizedDynamicLPFeeUpdate()`. I've deployed this on Sepolia testnet and the pool manager address is correct. What am I missing?",
  "tags": ["uniswap-v4", "smart-contracts", "defi", "amm", "hooks", "solidity"],
  "difficulty": "Advanced",
  "bounty_amount": 250,
  "bounty_token": "USDC",
  "author_wallet": "0x7890123456789012345678901234567890123456",
  "author_name": "DeFiBuilder",
  "created_at": "2025-10-24T11:00:00Z",
  "updated_at": "2025-10-24T11:00:00Z",
  "views": 342,
  "votes": 28,
  "answer_count": 5,
  "is_answered": true,
  "accepted_answer_id": "a_1729823400_defi001",
  "last_activity": "2025-10-24T14:30:00Z"
}